"format amd";!function(){"use strict";function a(a,b){return a.module("ngAviary",[]).directive("ngAviary",["ngAviary",function(c){return{restrict:"E",template:'<input type="image"/>',replace:!0,scope:{target:"@",onSave:"&",onSaveButtonClicked:"&"},link:function(d,e,f){function g(a,b){return n.launch({image:a,url:b}),!1}function h(a){return document.getElementById(a).src}function i(b){(d.onSaveButtonClicked||a.noop)({id:b})}function j(b,e){var f=document.getElementById(b);f.src=e,(d.onSave||a.noop)({id:b,newURL:e}),(d.closeOnSave||c.configuration.closeOnSave)&&n.close()}function k(a){throw new Error(a.message)}function l(a){}e.bind("click",function(){return g(d.target,h(d.target))});var m={onSaveButtonClicked:i,onSave:j,onError:k,onClose:l},n=new b.Feather(a.extend({},c.configuration,m))}}}]).provider("ngAviary",function(){var b,c={apiKey:null,theme:"dark",tools:"all"},d=["apiKey"];this.configure=function(e){if(b)throw new Error("Already configured.");if(!(e instanceof Object))throw new TypeError("Invalid argument: `config` must be an `Object`.");return b=a.extend({},c,e),a.forEach(d,function(a){if(!b[a])throw new Error("Missing parameter:",a)}),b},this.$get=function(){if(!b)throw new Error("ngAviary must be configured first.");var a=function(){return b}();return{configuration:a}}})}"function"==typeof define&&define.amd?define(["angular","Aviary"],a):"undefined"!=typeof module&&module&&module.exports?(a(angular,require("Aviary")),module.exports="ngAviary"):a(angular,("undefined"!=typeof global?global:window).Aviary)}();
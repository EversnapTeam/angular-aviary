"format amd";!function(){"use strict";function a(a,b){return a.module("adobeCreativeNg",[]).directive("ngCreative",["ngCreative",function(c){return{restrict:"AE",template:'<input type="image" ng-src="{{scope.src}}"/>',replace:!0,scope:{appendTo:"@",closeOnSave:"@",target:"@",theme:"@",tools:"@",onSave:"&"},link:function(d,e){function f(a,b){return k.launch({image:a,url:b}),!1}function g(a){return document.getElementById(a).src}function h(b,e){var f=document.getElementById(b);f.src=e,(d.onSave||a.noop)({id:b,newURL:e}),(d.closeOnSave||c.configuration.closeOnSave)&&k.close()}function i(a){throw new Error(a.message)}function j(a){}e.bind("click",function(){return f(d.target,g(d.target))});var k=new b.Feather({apiKey:c.configuration.apiKey,theme:d.theme||c.configuration.theme,tools:d.tools||c.configuration.tools,appendTo:d.appendTo||"",onSave:h,onError:i,onClose:j})}}}]).provider("ngCreative",function(){var b,c={apiKey:null,theme:"dark",tools:"all",closeOnSave:!1},d=["apiKey"];this.configure=function(e){if(b)throw new Error("Already configured.");if(!(e instanceof Object))throw new TypeError("Invalid argument: `config` must be an `Object`.");return b=a.extend({},c,e),a.forEach(d,function(a){if(!b[a])throw new Error("Missing parameter:",a)}),b},this.$get=function(){if(!b)throw new Error("ngCreativeProvider must be configured first.");var a=function(){return b}();return{configuration:a}}})}"function"==typeof define&&define.amd?define(["angular","Aviary"],a):"undefined"!=typeof module&&module&&module.exports?(a(angular,require("Aviary")),module.exports="adobeCreativeNg"):a(angular,("undefined"!=typeof global?global:window).Aviary)}();